<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StreamxTgt</title>
  <link rel="stylesheet" href="css/stream.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">
      <img src="images/logo.png" alt="StreamxTgt Logo"> StreamxTgt
    </div>
    <div class="menu">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="feature.html">Features</a>
      <a href="contact.html">Contact</a>
    </div>
    <div class="icons">
      <span class="notifications">ðŸ””</span>
      <span class="account">ðŸ‘¤ Account</span>
    </div>
  </nav>

  <!-- Stream and Chat -->
  <div class="stream-container">
    <iframe id="streamIframe"></iframe>

    <div class="chat-box">
      <ul id="chatMessages">
        <li>Welcome to the chat!</li>
      </ul>
      <div class="chat-input">
        <input type="text" id="chatInput" placeholder="Type a message...">
        <button class="button" onclick="sendMessage()">Send</button>
        <button class="button" onclick="leaveRoom()">Leave Room</button>
      </div>
    </div>
  </div>

  <!-- Play Button -->
  <div class="play-button-container">
    <a href="https://tv17.lk21official.my/tenet-2020/" class="button">Play Movie</a>
  </div>

  <!-- Footer -->
  <footer>
    <div>
      <a href="index.html">Home</a> | 
      <a href="about.html">About</a> | 
      <a href="feature.html">Features</a> | 
      <a href="contact.html">Contact</a>
    </div>
    <p>&copy; 2025 StreamxTgt. All Rights Reserved. byZep2025</p>
  </footer>

  <script>
    window.onload = function () {
      const urlParams = new URLSearchParams(window.location.search);
      const movie = urlParams.get('movie');
      
      // Define the embed links for each movie
      const movieLinks = {
        tenet: "https://drive.google.com/file/d/1X1083oGKvXwaXpsja1w701y75SvDWlgA/preview" ,
        thelittlemermaid: 'https://youtu.be/Zp-Jhuhq0bQ?si=RubnjNawQ0HCv5jD',
        matrix: 'https://www.youtube.com/embed/vKQi3bBA1y8'
      };

      // Get the iframe element
      const iframe = document.getElementById('streamIframe');

      // Update iframe source based on the selected movie
      if (movie && movieLinks[movie]) {
        iframe.src = movieLinks[movie];
      } else {
        iframe.src = 'https://drive.google.com/file/d/180PUUDgV0Ff59XMWbkq1Bx5EeMjmNXI-/preview';
      }
    };

    function sendMessage() {
      const input = document.getElementById("chatInput");
      const message = input.value.trim();
      if (message) {
        const chatMessages = document.getElementById("chatMessages");
        const newMessage = document.createElement("li");
        newMessage.textContent = message;
        chatMessages.appendChild(newMessage);
        input.value = "";
        chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to the bottom
      }
    }

    function leaveRoom() {
      alert("You have left the chat room.");
    }
  </script>
</body>
</html>
